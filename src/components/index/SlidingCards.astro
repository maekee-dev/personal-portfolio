---
import { Image } from "astro:assets";
import desertodeitartari from "@images/index/film/deserto-dei-tartari.jpg"
import daftpunk from "@images/index/film/daft-punk.gif"
import walle from "@images/index/film/wall-e.gif"
import cowboybebop from "@images/index/film/cowboy-bebop.gif"
import bladerunner from "@images/index/film/blade-runner.gif"
---

<div class="w-[450px] h-[600px] relative max-md:h-[500px] max-md:w-[375px] max-sm:w-[70vw] max-sm:h-[100vw]" id="sliding-cards-container">
    <div class="z-10 relative bg-green-dark border-green/40 border w-full h-full rounded-xl p-4 flex flex-col cursor-grab" id="card-1">
        <div class="absolute pointer-events-none left-0 top-0 w-full h-full z-50"><div data-noise></div></div>
        <div class="w-full items-center flex justify-between">
            <div class="rounded-full h-[25px] w-[25px] bg-green text-green-dark flex items-center justify-center">
                <svg data-testid="geist-icon" height="16" stroke-linejoin="round" viewBox="0 0 16 16" width="16" style="color: currentcolor;"><path fill-rule="evenodd" clip-rule="evenodd" d="M7.50008 6.59197L7.06075 7.03131L4.30811 9.78395C5.10528 10.7976 6.43586 11.5 8.00001 11.5C10.6108 11.5 12.5 9.58894 12.5 7.5L12.5 6L12.5 4.98248C12.4906 3.60983 11.375 2.5 10.0001 2.5C8.61937 2.5 7.50008 3.61929 7.50008 5V5.97065V6.59197ZM13.8741 4C13.43 2.27477 11.8639 1 10.0001 1C7.79095 1 6.00008 2.79086 6.00008 5V5.96858L0.0596924 11.909L1.12036 12.9697L3.24058 10.8494C4.33746 12.1572 6.06137 13 8.00001 13H8.00003V15H9.50003V12.8267C12.0879 12.2161 14 10.0628 14 7.5H14.0001V6.99991L16 4H13.8741ZM10 6C10.5523 6 11 5.55228 11 5C11 4.44772 10.5523 4 10 4C9.44774 4 9.00003 4.44772 9.00003 5C9.00003 5.55228 9.44774 6 10 6Z" fill="currentColor"></path></svg>
            </div>
            <span class="text-green text-sm uppercase font-medium">Anime</span>
        </div>
        <div class="mt-4">
            <span class="font-semibold text-xl uppercase text-green max-md:text-lg max-sm:text-base">Cowboy Bebop</span>
            <p class="text-sm mt-1 max-sm:text-xs">In the high orbit of Mars, the sky is a dull red. The silence between the stars is denser than the void itself.</p>
            <div class="w-full flex items-center justify-between text-lg font-medium mt-2">
                <span class="text-sm">1999</span>
            </div>
        </div>
        <div class="grow w-full mt-4 relative">
            <div class="z-20 bg-green-dark/20 rounded-lg absolute top-0 left-0 w-full h-full"></div>
            <Image src={cowboybebop} alt="Cowboy Bebop" class="z-10 grayscale rounded-lg w-full h-full object-cover absolute top-0 left-0" />
        </div>
        <div class="mt-4">
            <p class="text-green text-sm max-md:hidden">Space noir that mixes science fiction, westerns and existential melancholy. Set in a fragmented future, where the planets of the solar system are connected by portals but disconnected at ...</p>
        </div>
        <div class="w-full mt-4 flex items-center justify-between gap-2 text-green">
            <div class="flex items-center gap-2">
                <svg data-testid="geist-icon" height="16" stroke-linejoin="round" viewBox="0 0 16 16" width="16" style="color: currentcolor;"><path fill-rule="evenodd" clip-rule="evenodd" d="M10.268 14.0934C11.9051 13.4838 13.2303 12.2333 13.9384 10.6469C13.1192 10.7941 12.2138 10.9111 11.2469 10.9925C11.0336 12.2005 10.695 13.2621 10.268 14.0934ZM8 16C12.4183 16 16 12.4183 16 8C16 3.58172 12.4183 0 8 0C3.58172 0 0 3.58172 0 8C0 12.4183 3.58172 16 8 16ZM8.48347 14.4823C8.32384 14.494 8.16262 14.5 8 14.5C7.83738 14.5 7.67616 14.494 7.51654 14.4823C7.5132 14.4791 7.50984 14.4759 7.50647 14.4726C7.2415 14.2165 6.94578 13.7854 6.67032 13.1558C6.41594 12.5744 6.19979 11.8714 6.04101 11.0778C6.67605 11.1088 7.33104 11.125 8 11.125C8.66896 11.125 9.32395 11.1088 9.95899 11.0778C9.80021 11.8714 9.58406 12.5744 9.32968 13.1558C9.05422 13.7854 8.7585 14.2165 8.49353 14.4726C8.49016 14.4759 8.4868 14.4791 8.48347 14.4823ZM11.4187 9.72246C12.5137 9.62096 13.5116 9.47245 14.3724 9.28806C14.4561 8.87172 14.5 8.44099 14.5 8C14.5 7.55901 14.4561 7.12828 14.3724 6.71194C13.5116 6.52755 12.5137 6.37904 11.4187 6.27753C11.4719 6.83232 11.5 7.40867 11.5 8C11.5 8.59133 11.4719 9.16768 11.4187 9.72246ZM10.1525 6.18401C10.2157 6.75982 10.25 7.36805 10.25 8C10.25 8.63195 10.2157 9.24018 10.1525 9.81598C9.46123 9.85455 8.7409 9.875 8 9.875C7.25909 9.875 6.53877 9.85455 5.84749 9.81598C5.7843 9.24018 5.75 8.63195 5.75 8C5.75 7.36805 5.7843 6.75982 5.84749 6.18401C6.53877 6.14545 7.25909 6.125 8 6.125C8.74091 6.125 9.46123 6.14545 10.1525 6.18401ZM11.2469 5.00748C12.2138 5.08891 13.1191 5.20593 13.9384 5.35306C13.2303 3.7667 11.9051 2.51622 10.268 1.90662C10.695 2.73788 11.0336 3.79953 11.2469 5.00748ZM8.48347 1.51771C8.4868 1.52089 8.49016 1.52411 8.49353 1.52737C8.7585 1.78353 9.05422 2.21456 9.32968 2.84417C9.58406 3.42562 9.80021 4.12856 9.95899 4.92219C9.32395 4.89118 8.66896 4.875 8 4.875C7.33104 4.875 6.67605 4.89118 6.04101 4.92219C6.19978 4.12856 6.41594 3.42562 6.67032 2.84417C6.94578 2.21456 7.2415 1.78353 7.50647 1.52737C7.50984 1.52411 7.51319 1.52089 7.51653 1.51771C7.67615 1.50597 7.83738 1.5 8 1.5C8.16262 1.5 8.32384 1.50597 8.48347 1.51771ZM5.73202 1.90663C4.0949 2.51622 2.76975 3.7667 2.06159 5.35306C2.88085 5.20593 3.78617 5.08891 4.75309 5.00748C4.96639 3.79953 5.30497 2.73788 5.73202 1.90663ZM4.58133 6.27753C3.48633 6.37904 2.48837 6.52755 1.62761 6.71194C1.54392 7.12828 1.5 7.55901 1.5 8C1.5 8.44099 1.54392 8.87172 1.62761 9.28806C2.48837 9.47245 3.48633 9.62096 4.58133 9.72246C4.52807 9.16768 4.5 8.59133 4.5 8C4.5 7.40867 4.52807 6.83232 4.58133 6.27753ZM4.75309 10.9925C3.78617 10.9111 2.88085 10.7941 2.06159 10.6469C2.76975 12.2333 4.0949 13.4838 5.73202 14.0934C5.30497 13.2621 4.96639 12.2005 4.75309 10.9925Z" fill="currentColor"></path></svg>
                <svg data-testid="geist-icon" height="16" stroke-linejoin="round" viewBox="0 0 16 16" width="16" style="color: currentcolor;"><path d="M1.39408 2.14408C3.21165 0.326509 6.13348 0.286219 8 2.02321C9.86652 0.286221 12.7884 0.326509 14.6059 2.14408C16.4647 4.00286 16.4647 7.01653 14.6059 8.87531L8 15.4812L1.39408 8.87531C-0.464691 7.01653 -0.464694 4.00286 1.39408 2.14408Z" fill="currentColor"></path></svg>
            </div>
            <svg data-testid="geist-icon" height="16" stroke-linejoin="round" viewBox="0 0 16 16" width="16" style="color: currentcolor;"><path fill-rule="evenodd" clip-rule="evenodd" d="M8 16C12.4183 16 16 12.4183 16 8C16 3.58172 12.4183 0 8 0C3.58172 0 0 3.58172 0 8C0 12.4183 3.58172 16 8 16ZM7.53033 4.71967L7 4.18934L5.93934 5.25L6.46967 5.78033L8.68934 8L6.46967 10.2197L5.93934 10.75L7 11.8107L7.53033 11.2803L10.1036 8.70711C10.4941 8.31658 10.4941 7.68342 10.1036 7.29289L7.53033 4.71967Z" fill="currentColor"></path></svg>
        </div>
    </div>

    <div class="z-[9] absolute top-0 left-0 rotate-3 bg-green-dark border-green/40 border w-full h-full rounded-xl p-4 flex flex-col cursor-grab" id="card-2">
        <div class="absolute pointer-events-none left-0 top-0 w-full h-full z-50"><div data-noise></div></div>
        <div class="w-full items-center flex justify-between">
            <div class="rounded-full h-[25px] w-[25px] bg-green text-green-dark flex items-center justify-center">
                <svg class="max-w-[16px] max-h-[16px]" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-clapperboard-icon lucide-clapperboard"><path d="M20.2 6 3 11l-.9-2.4c-.3-1.1.3-2.2 1.3-2.5l13.5-4c1.1-.3 2.2.3 2.5 1.3Z"/><path d="m6.2 5.3 3.1 3.9"/><path d="m12.4 3.4 3.1 4"/><path d="M3 11h18v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2Z"/></svg>
            </div>
            <span class="text-green text-sm uppercase font-medium">Movie</span>
        </div>
        <div class="mt-4">
            <span class="font-semibold text-xl uppercase text-green max-md:text-lg max-sm:text-base">Blade Runner + 2049</span>
            <p class="text-sm mt-1 max-sm:text-xs">A merry little surge of electricity piped by automatic alarm from the mood organ beside his bed awakened Rick Deckard.</p>
            <div class="w-full flex items-center justify-between text-lg font-medium mt-2">
                <span class="text-sm">1982 // 2017</span>
            </div>
        </div>
        <div class="grow w-full mt-4 relative">
            <div class="z-20 bg-green-dark/20 rounded-lg absolute top-0 left-0 w-full h-full"></div>
            <Image src={bladerunner} alt="Blade Runner 2049" class="z-10 grayscale rounded-lg w-full h-full object-cover absolute top-0 left-0" />
        </div>
        <div class="mt-4">
            <p class="text-green text-sm max-md:hidden">In the early twenty-first century, the Tyrell Corporation, during what was called the Nexus phase, developed robots, called "replicants", that were supposed to aid society, the rep ...</p>
        </div>
        <div class="w-full mt-4 flex items-center justify-between gap-2 text-green">
            <div class="flex items-center gap-2">
                <svg data-testid="geist-icon" height="16" stroke-linejoin="round" viewBox="0 0 16 16" width="16" style="color: currentcolor;"><path fill-rule="evenodd" clip-rule="evenodd" d="M10.268 14.0934C11.9051 13.4838 13.2303 12.2333 13.9384 10.6469C13.1192 10.7941 12.2138 10.9111 11.2469 10.9925C11.0336 12.2005 10.695 13.2621 10.268 14.0934ZM8 16C12.4183 16 16 12.4183 16 8C16 3.58172 12.4183 0 8 0C3.58172 0 0 3.58172 0 8C0 12.4183 3.58172 16 8 16ZM8.48347 14.4823C8.32384 14.494 8.16262 14.5 8 14.5C7.83738 14.5 7.67616 14.494 7.51654 14.4823C7.5132 14.4791 7.50984 14.4759 7.50647 14.4726C7.2415 14.2165 6.94578 13.7854 6.67032 13.1558C6.41594 12.5744 6.19979 11.8714 6.04101 11.0778C6.67605 11.1088 7.33104 11.125 8 11.125C8.66896 11.125 9.32395 11.1088 9.95899 11.0778C9.80021 11.8714 9.58406 12.5744 9.32968 13.1558C9.05422 13.7854 8.7585 14.2165 8.49353 14.4726C8.49016 14.4759 8.4868 14.4791 8.48347 14.4823ZM11.4187 9.72246C12.5137 9.62096 13.5116 9.47245 14.3724 9.28806C14.4561 8.87172 14.5 8.44099 14.5 8C14.5 7.55901 14.4561 7.12828 14.3724 6.71194C13.5116 6.52755 12.5137 6.37904 11.4187 6.27753C11.4719 6.83232 11.5 7.40867 11.5 8C11.5 8.59133 11.4719 9.16768 11.4187 9.72246ZM10.1525 6.18401C10.2157 6.75982 10.25 7.36805 10.25 8C10.25 8.63195 10.2157 9.24018 10.1525 9.81598C9.46123 9.85455 8.7409 9.875 8 9.875C7.25909 9.875 6.53877 9.85455 5.84749 9.81598C5.7843 9.24018 5.75 8.63195 5.75 8C5.75 7.36805 5.7843 6.75982 5.84749 6.18401C6.53877 6.14545 7.25909 6.125 8 6.125C8.74091 6.125 9.46123 6.14545 10.1525 6.18401ZM11.2469 5.00748C12.2138 5.08891 13.1191 5.20593 13.9384 5.35306C13.2303 3.7667 11.9051 2.51622 10.268 1.90662C10.695 2.73788 11.0336 3.79953 11.2469 5.00748ZM8.48347 1.51771C8.4868 1.52089 8.49016 1.52411 8.49353 1.52737C8.7585 1.78353 9.05422 2.21456 9.32968 2.84417C9.58406 3.42562 9.80021 4.12856 9.95899 4.92219C9.32395 4.89118 8.66896 4.875 8 4.875C7.33104 4.875 6.67605 4.89118 6.04101 4.92219C6.19978 4.12856 6.41594 3.42562 6.67032 2.84417C6.94578 2.21456 7.2415 1.78353 7.50647 1.52737C7.50984 1.52411 7.51319 1.52089 7.51653 1.51771C7.67615 1.50597 7.83738 1.5 8 1.5C8.16262 1.5 8.32384 1.50597 8.48347 1.51771ZM5.73202 1.90663C4.0949 2.51622 2.76975 3.7667 2.06159 5.35306C2.88085 5.20593 3.78617 5.08891 4.75309 5.00748C4.96639 3.79953 5.30497 2.73788 5.73202 1.90663ZM4.58133 6.27753C3.48633 6.37904 2.48837 6.52755 1.62761 6.71194C1.54392 7.12828 1.5 7.55901 1.5 8C1.5 8.44099 1.54392 8.87172 1.62761 9.28806C2.48837 9.47245 3.48633 9.62096 4.58133 9.72246C4.52807 9.16768 4.5 8.59133 4.5 8C4.5 7.40867 4.52807 6.83232 4.58133 6.27753ZM4.75309 10.9925C3.78617 10.9111 2.88085 10.7941 2.06159 10.6469C2.76975 12.2333 4.0949 13.4838 5.73202 14.0934C5.30497 13.2621 4.96639 12.2005 4.75309 10.9925Z" fill="currentColor"></path></svg>
                <svg data-testid="geist-icon" height="16" stroke-linejoin="round" viewBox="0 0 16 16" width="16" style="color: currentcolor;"><path d="M1.39408 2.14408C3.21165 0.326509 6.13348 0.286219 8 2.02321C9.86652 0.286221 12.7884 0.326509 14.6059 2.14408C16.4647 4.00286 16.4647 7.01653 14.6059 8.87531L8 15.4812L1.39408 8.87531C-0.464691 7.01653 -0.464694 4.00286 1.39408 2.14408Z" fill="currentColor"></path></svg>
            </div>
            <svg data-testid="geist-icon" height="16" stroke-linejoin="round" viewBox="0 0 16 16" width="16" style="color: currentcolor;"><path fill-rule="evenodd" clip-rule="evenodd" d="M8 16C12.4183 16 16 12.4183 16 8C16 3.58172 12.4183 0 8 0C3.58172 0 0 3.58172 0 8C0 12.4183 3.58172 16 8 16ZM7.53033 4.71967L7 4.18934L5.93934 5.25L6.46967 5.78033L8.68934 8L6.46967 10.2197L5.93934 10.75L7 11.8107L7.53033 11.2803L10.1036 8.70711C10.4941 8.31658 10.4941 7.68342 10.1036 7.29289L7.53033 4.71967Z" fill="currentColor"></path></svg>
        </div>
    </div>

    <div class="z-[8] absolute top-0 left-0 rotate-6 bg-green-dark border-green/40 border w-full h-full rounded-xl p-4 flex flex-col cursor-grab" id="card-3">
        <div class="absolute pointer-events-none left-0 top-0 w-full h-full z-50"><div data-noise></div></div>
        <div class="w-full items-center flex justify-between">
            <div class="rounded-full h-[25px] w-[25px] bg-green text-green-dark flex items-center justify-center">
                <svg data-testid="geist-icon" height="16" stroke-linejoin="round" viewBox="0 0 16 16" width="16" style="color: currentcolor;"><path fill-rule="evenodd" clip-rule="evenodd" d="M0 1H0.75H5C6.2267 1 7.31583 1.58901 8 2.49963C8.68417 1.58901 9.7733 1 11 1H15.25H16V1.75V13V13.75H15.25H10.7426C10.1459 13.75 9.57361 13.9871 9.15165 14.409L8.53033 15.0303H7.46967L6.84835 14.409C6.42639 13.9871 5.8541 13.75 5.25736 13.75H0.75H0V13V1.75V1ZM7.25 4.75C7.25 3.50736 6.24264 2.5 5 2.5H1.5V12.25H5.25736C5.96786 12.25 6.65758 12.4516 7.25 12.8232V4.75ZM8.75 12.8232V4.75C8.75 3.50736 9.75736 2.5 11 2.5H14.5V12.25H10.7426C10.0321 12.25 9.34242 12.4516 8.75 12.8232Z" fill="currentColor"></path></svg>
            </div>
            <span class="text-green text-sm uppercase font-medium">Book</span>
        </div>
        <div class="mt-4">
            <span class="font-semibold text-xl uppercase text-green max-md:text-lg max-sm:text-base">Il Deserto Dei Tartari</span>
            <p class="text-sm mt-1 max-sm:text-xs">Nominato ufficiale, Giovanni Drogo partì una mattina di settembre dalla città per raggiungere la Fortezza Bastiani, sua prima destinazione.</p>
            <div class="w-full flex items-center justify-between text-lg font-medium mt-2">
                <span class="text-sm">1940</span>
            </div>
        </div>
        <div class="grow w-full mt-4 relative">
            <div class="z-20 bg-green-dark/20 rounded-lg absolute top-0 left-0 w-full h-full"></div>
            <Image src={desertodeitartari} alt="Il Deserto Dei Tartari" class="z-10 grayscale rounded-lg w-full h-full object-cover absolute top-0 left-0" />
        </div>
        <div class="mt-4">
            <p class="text-green text-sm max-md:hidden">Attraverso una prosa limpida e apparentemente semplice, costruisce un’opera che si muove tra realismo e allegoria, riuscendo a parlare del tempo, dell’attesa, della solitudine e ...</p>
        </div>
        <div class="w-full mt-4 flex items-center justify-between gap-2 text-green">
            <div class="flex items-center gap-2">
                <svg data-testid="geist-icon" height="16" stroke-linejoin="round" viewBox="0 0 16 16" width="16" style="color: currentcolor;"><path fill-rule="evenodd" clip-rule="evenodd" d="M10.268 14.0934C11.9051 13.4838 13.2303 12.2333 13.9384 10.6469C13.1192 10.7941 12.2138 10.9111 11.2469 10.9925C11.0336 12.2005 10.695 13.2621 10.268 14.0934ZM8 16C12.4183 16 16 12.4183 16 8C16 3.58172 12.4183 0 8 0C3.58172 0 0 3.58172 0 8C0 12.4183 3.58172 16 8 16ZM8.48347 14.4823C8.32384 14.494 8.16262 14.5 8 14.5C7.83738 14.5 7.67616 14.494 7.51654 14.4823C7.5132 14.4791 7.50984 14.4759 7.50647 14.4726C7.2415 14.2165 6.94578 13.7854 6.67032 13.1558C6.41594 12.5744 6.19979 11.8714 6.04101 11.0778C6.67605 11.1088 7.33104 11.125 8 11.125C8.66896 11.125 9.32395 11.1088 9.95899 11.0778C9.80021 11.8714 9.58406 12.5744 9.32968 13.1558C9.05422 13.7854 8.7585 14.2165 8.49353 14.4726C8.49016 14.4759 8.4868 14.4791 8.48347 14.4823ZM11.4187 9.72246C12.5137 9.62096 13.5116 9.47245 14.3724 9.28806C14.4561 8.87172 14.5 8.44099 14.5 8C14.5 7.55901 14.4561 7.12828 14.3724 6.71194C13.5116 6.52755 12.5137 6.37904 11.4187 6.27753C11.4719 6.83232 11.5 7.40867 11.5 8C11.5 8.59133 11.4719 9.16768 11.4187 9.72246ZM10.1525 6.18401C10.2157 6.75982 10.25 7.36805 10.25 8C10.25 8.63195 10.2157 9.24018 10.1525 9.81598C9.46123 9.85455 8.7409 9.875 8 9.875C7.25909 9.875 6.53877 9.85455 5.84749 9.81598C5.7843 9.24018 5.75 8.63195 5.75 8C5.75 7.36805 5.7843 6.75982 5.84749 6.18401C6.53877 6.14545 7.25909 6.125 8 6.125C8.74091 6.125 9.46123 6.14545 10.1525 6.18401ZM11.2469 5.00748C12.2138 5.08891 13.1191 5.20593 13.9384 5.35306C13.2303 3.7667 11.9051 2.51622 10.268 1.90662C10.695 2.73788 11.0336 3.79953 11.2469 5.00748ZM8.48347 1.51771C8.4868 1.52089 8.49016 1.52411 8.49353 1.52737C8.7585 1.78353 9.05422 2.21456 9.32968 2.84417C9.58406 3.42562 9.80021 4.12856 9.95899 4.92219C9.32395 4.89118 8.66896 4.875 8 4.875C7.33104 4.875 6.67605 4.89118 6.04101 4.92219C6.19978 4.12856 6.41594 3.42562 6.67032 2.84417C6.94578 2.21456 7.2415 1.78353 7.50647 1.52737C7.50984 1.52411 7.51319 1.52089 7.51653 1.51771C7.67615 1.50597 7.83738 1.5 8 1.5C8.16262 1.5 8.32384 1.50597 8.48347 1.51771ZM5.73202 1.90663C4.0949 2.51622 2.76975 3.7667 2.06159 5.35306C2.88085 5.20593 3.78617 5.08891 4.75309 5.00748C4.96639 3.79953 5.30497 2.73788 5.73202 1.90663ZM4.58133 6.27753C3.48633 6.37904 2.48837 6.52755 1.62761 6.71194C1.54392 7.12828 1.5 7.55901 1.5 8C1.5 8.44099 1.54392 8.87172 1.62761 9.28806C2.48837 9.47245 3.48633 9.62096 4.58133 9.72246C4.52807 9.16768 4.5 8.59133 4.5 8C4.5 7.40867 4.52807 6.83232 4.58133 6.27753ZM4.75309 10.9925C3.78617 10.9111 2.88085 10.7941 2.06159 10.6469C2.76975 12.2333 4.0949 13.4838 5.73202 14.0934C5.30497 13.2621 4.96639 12.2005 4.75309 10.9925Z" fill="currentColor"></path></svg>
                <svg data-testid="geist-icon" height="16" stroke-linejoin="round" viewBox="0 0 16 16" width="16" style="color: currentcolor;"><path d="M1.39408 2.14408C3.21165 0.326509 6.13348 0.286219 8 2.02321C9.86652 0.286221 12.7884 0.326509 14.6059 2.14408C16.4647 4.00286 16.4647 7.01653 14.6059 8.87531L8 15.4812L1.39408 8.87531C-0.464691 7.01653 -0.464694 4.00286 1.39408 2.14408Z" fill="currentColor"></path></svg>
            </div>
            <svg data-testid="geist-icon" height="16" stroke-linejoin="round" viewBox="0 0 16 16" width="16" style="color: currentcolor;"><path fill-rule="evenodd" clip-rule="evenodd" d="M8 16C12.4183 16 16 12.4183 16 8C16 3.58172 12.4183 0 8 0C3.58172 0 0 3.58172 0 8C0 12.4183 3.58172 16 8 16ZM7.53033 4.71967L7 4.18934L5.93934 5.25L6.46967 5.78033L8.68934 8L6.46967 10.2197L5.93934 10.75L7 11.8107L7.53033 11.2803L10.1036 8.70711C10.4941 8.31658 10.4941 7.68342 10.1036 7.29289L7.53033 4.71967Z" fill="currentColor"></path></svg>
        </div>
    </div>

    <div class="z-[7] absolute top-0 left-0 rotate-[9deg] bg-green-dark border-green/40 border w-full h-full rounded-xl p-4 flex flex-col cursor-grab" id="card-4">
        <div class="absolute pointer-events-none left-0 top-0 w-full h-full z-50"><div data-noise></div></div>
        <div class="w-full items-center flex justify-between">
            <div class="rounded-full h-[25px] w-[25px] bg-green text-green-dark flex items-center justify-center">
                <svg class="max-w-[16px] max-h-[16px] mr-[2px]" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-music-icon lucide-music"><path d="M9 18V5l12-2v13"/><circle cx="6" cy="18" r="3"/><circle cx="18" cy="16" r="3"/></svg>
            </div>
            <span class="text-green text-sm uppercase font-medium">Music</span>
        </div>
        <div class="mt-4">
            <span class="font-semibold text-xl uppercase text-green max-md:text-lg max-sm:text-base">Random Access Memory</span>
            <p class="text-sm mt-1 max-sm:text-xs">Time had never really existed. Only repetitions, loops, memories engraved on dusty circuits.</p>
            <div class="w-full flex items-center justify-between text-lg font-medium mt-2">
                <span class="text-sm">2013</span>
            </div>
        </div>
        <div class="grow w-full mt-4 relative">
            <div class="z-20 bg-green-dark/20 rounded-lg absolute top-0 left-0 w-full h-full"></div>
            <Image src={daftpunk} alt="Random Access Memory, Daft Punk" class="z-10 grayscale rounded-lg w-full h-full object-cover absolute top-0 left-0" />
        </div>
        <div class="mt-4">
            <p class="text-green text-sm max-md:hidden break-words">⠍⠽⠹⠊⠉⠁⠇⠀⠐⠡⠎⠀⠱⠕⠀⠑⠍⠃⠕⠙⠽⠀⠝⠕⠌⠁⠇⠛⠊⠁⠀⠿⠀⠁⠝⠀⠻⠁⠀⠱⠢⠀⠍⠁⠡⠔⠑⠎⠀⠎⠻⠧⠫⠀⠍⠁⠝⠂⠀⠯⠀⠝⠀⠮⠀⠕⠮⠗⠀⠺⠁⠽⠀⠜⠨⠙⠲⠀⠠⠮⠀⠑⠧⠢⠞⠎⠀⠕⠎⠉⠊⠇⠇⠁⠞⠑⠀⠆⠞⠀⠙⠗⠂⠍⠀⠯⠀⠗⠂⠇⠰⠽⠂⠀⠆⠞⠀⠗⠑⠉⠕⠗⠙⠬⠀⠌⠥⠙⠊⠕⠎⠀⠊⠍⠍⠻⠎⠫⠀⠔⠀⠙⠜⠅⠰⠎⠀⠯⠀⠊⠍⠁⠛⠔⠜⠽
            </p>
        </div>
        <div class="w-full mt-4 flex items-center justify-between gap-2 text-green">
            <div class="flex items-center gap-2">
                <svg data-testid="geist-icon" height="16" stroke-linejoin="round" viewBox="0 0 16 16" width="16" style="color: currentcolor;"><path fill-rule="evenodd" clip-rule="evenodd" d="M10.268 14.0934C11.9051 13.4838 13.2303 12.2333 13.9384 10.6469C13.1192 10.7941 12.2138 10.9111 11.2469 10.9925C11.0336 12.2005 10.695 13.2621 10.268 14.0934ZM8 16C12.4183 16 16 12.4183 16 8C16 3.58172 12.4183 0 8 0C3.58172 0 0 3.58172 0 8C0 12.4183 3.58172 16 8 16ZM8.48347 14.4823C8.32384 14.494 8.16262 14.5 8 14.5C7.83738 14.5 7.67616 14.494 7.51654 14.4823C7.5132 14.4791 7.50984 14.4759 7.50647 14.4726C7.2415 14.2165 6.94578 13.7854 6.67032 13.1558C6.41594 12.5744 6.19979 11.8714 6.04101 11.0778C6.67605 11.1088 7.33104 11.125 8 11.125C8.66896 11.125 9.32395 11.1088 9.95899 11.0778C9.80021 11.8714 9.58406 12.5744 9.32968 13.1558C9.05422 13.7854 8.7585 14.2165 8.49353 14.4726C8.49016 14.4759 8.4868 14.4791 8.48347 14.4823ZM11.4187 9.72246C12.5137 9.62096 13.5116 9.47245 14.3724 9.28806C14.4561 8.87172 14.5 8.44099 14.5 8C14.5 7.55901 14.4561 7.12828 14.3724 6.71194C13.5116 6.52755 12.5137 6.37904 11.4187 6.27753C11.4719 6.83232 11.5 7.40867 11.5 8C11.5 8.59133 11.4719 9.16768 11.4187 9.72246ZM10.1525 6.18401C10.2157 6.75982 10.25 7.36805 10.25 8C10.25 8.63195 10.2157 9.24018 10.1525 9.81598C9.46123 9.85455 8.7409 9.875 8 9.875C7.25909 9.875 6.53877 9.85455 5.84749 9.81598C5.7843 9.24018 5.75 8.63195 5.75 8C5.75 7.36805 5.7843 6.75982 5.84749 6.18401C6.53877 6.14545 7.25909 6.125 8 6.125C8.74091 6.125 9.46123 6.14545 10.1525 6.18401ZM11.2469 5.00748C12.2138 5.08891 13.1191 5.20593 13.9384 5.35306C13.2303 3.7667 11.9051 2.51622 10.268 1.90662C10.695 2.73788 11.0336 3.79953 11.2469 5.00748ZM8.48347 1.51771C8.4868 1.52089 8.49016 1.52411 8.49353 1.52737C8.7585 1.78353 9.05422 2.21456 9.32968 2.84417C9.58406 3.42562 9.80021 4.12856 9.95899 4.92219C9.32395 4.89118 8.66896 4.875 8 4.875C7.33104 4.875 6.67605 4.89118 6.04101 4.92219C6.19978 4.12856 6.41594 3.42562 6.67032 2.84417C6.94578 2.21456 7.2415 1.78353 7.50647 1.52737C7.50984 1.52411 7.51319 1.52089 7.51653 1.51771C7.67615 1.50597 7.83738 1.5 8 1.5C8.16262 1.5 8.32384 1.50597 8.48347 1.51771ZM5.73202 1.90663C4.0949 2.51622 2.76975 3.7667 2.06159 5.35306C2.88085 5.20593 3.78617 5.08891 4.75309 5.00748C4.96639 3.79953 5.30497 2.73788 5.73202 1.90663ZM4.58133 6.27753C3.48633 6.37904 2.48837 6.52755 1.62761 6.71194C1.54392 7.12828 1.5 7.55901 1.5 8C1.5 8.44099 1.54392 8.87172 1.62761 9.28806C2.48837 9.47245 3.48633 9.62096 4.58133 9.72246C4.52807 9.16768 4.5 8.59133 4.5 8C4.5 7.40867 4.52807 6.83232 4.58133 6.27753ZM4.75309 10.9925C3.78617 10.9111 2.88085 10.7941 2.06159 10.6469C2.76975 12.2333 4.0949 13.4838 5.73202 14.0934C5.30497 13.2621 4.96639 12.2005 4.75309 10.9925Z" fill="currentColor"></path></svg>
                <svg data-testid="geist-icon" height="16" stroke-linejoin="round" viewBox="0 0 16 16" width="16" style="color: currentcolor;"><path d="M1.39408 2.14408C3.21165 0.326509 6.13348 0.286219 8 2.02321C9.86652 0.286221 12.7884 0.326509 14.6059 2.14408C16.4647 4.00286 16.4647 7.01653 14.6059 8.87531L8 15.4812L1.39408 8.87531C-0.464691 7.01653 -0.464694 4.00286 1.39408 2.14408Z" fill="currentColor"></path></svg>
            </div>
            <svg data-testid="geist-icon" height="16" stroke-linejoin="round" viewBox="0 0 16 16" width="16" style="color: currentcolor;"><path fill-rule="evenodd" clip-rule="evenodd" d="M8 16C12.4183 16 16 12.4183 16 8C16 3.58172 12.4183 0 8 0C3.58172 0 0 3.58172 0 8C0 12.4183 3.58172 16 8 16ZM7.53033 4.71967L7 4.18934L5.93934 5.25L6.46967 5.78033L8.68934 8L6.46967 10.2197L5.93934 10.75L7 11.8107L7.53033 11.2803L10.1036 8.70711C10.4941 8.31658 10.4941 7.68342 10.1036 7.29289L7.53033 4.71967Z" fill="currentColor"></path></svg>
        </div>
    </div>

    <div class="z-[6] absolute top-0 left-0 rotate-12 bg-green-dark border-green/40 border w-full h-full rounded-xl p-4 flex flex-col cursor-grab" id="card-5">
        <div class="absolute pointer-events-none left-0 top-0 w-full h-full z-50"><div data-noise></div></div>
        <div class="w-full items-center flex justify-between">
            <div class="rounded-full h-[25px] w-[25px] bg-green text-green-dark flex items-center justify-center">
                <svg class="max-w-[16px] max-h-[16px]" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-clapperboard-icon lucide-clapperboard"><path d="M20.2 6 3 11l-.9-2.4c-.3-1.1.3-2.2 1.3-2.5l13.5-4c1.1-.3 2.2.3 2.5 1.3Z"/><path d="m6.2 5.3 3.1 3.9"/><path d="m12.4 3.4 3.1 4"/><path d="M3 11h18v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2Z"/></svg>
            </div>
            <span class="text-green text-sm uppercase font-medium">Movie</span>
        </div>
        <div class="mt-4">
            <span class="font-semibold text-xl uppercase text-green max-md:text-lg max-sm:text-base">Wall-e</span>
            <p class="text-sm mt-1 max-sm:text-xs">The silence was total, broken only by the creaking of metal and a forgotten song croaking from an old loudspeaker.</p>
            <div class="w-full flex items-center justify-between text-lg font-medium mt-2">
                <span class="text-sm">1982 // 2017</span>
            </div>
        </div>
        <div class="grow w-full mt-4 relative">
            <div class="z-20 bg-green-dark/20 rounded-lg absolute top-0 left-0 w-full h-full"></div>
            <Image src={walle} alt="Wall-e" class="z-10 grayscale rounded-lg w-full h-full object-cover absolute top-0 left-0" />
        </div>
        <div class="mt-4">
            <p class="text-green text-sm max-md:hidden">Touching literary dystopia in the form of an ecological fable. Set in an abandoned Earth choked with the detritus of consumerism, the film follows the vicissitudes of the last operational ...</p>
        </div>
        <div class="w-full mt-4 flex items-center justify-between gap-2 text-green">
            <div class="flex items-center gap-2">
                <svg data-testid="geist-icon" height="16" stroke-linejoin="round" viewBox="0 0 16 16" width="16" style="color: currentcolor;"><path fill-rule="evenodd" clip-rule="evenodd" d="M10.268 14.0934C11.9051 13.4838 13.2303 12.2333 13.9384 10.6469C13.1192 10.7941 12.2138 10.9111 11.2469 10.9925C11.0336 12.2005 10.695 13.2621 10.268 14.0934ZM8 16C12.4183 16 16 12.4183 16 8C16 3.58172 12.4183 0 8 0C3.58172 0 0 3.58172 0 8C0 12.4183 3.58172 16 8 16ZM8.48347 14.4823C8.32384 14.494 8.16262 14.5 8 14.5C7.83738 14.5 7.67616 14.494 7.51654 14.4823C7.5132 14.4791 7.50984 14.4759 7.50647 14.4726C7.2415 14.2165 6.94578 13.7854 6.67032 13.1558C6.41594 12.5744 6.19979 11.8714 6.04101 11.0778C6.67605 11.1088 7.33104 11.125 8 11.125C8.66896 11.125 9.32395 11.1088 9.95899 11.0778C9.80021 11.8714 9.58406 12.5744 9.32968 13.1558C9.05422 13.7854 8.7585 14.2165 8.49353 14.4726C8.49016 14.4759 8.4868 14.4791 8.48347 14.4823ZM11.4187 9.72246C12.5137 9.62096 13.5116 9.47245 14.3724 9.28806C14.4561 8.87172 14.5 8.44099 14.5 8C14.5 7.55901 14.4561 7.12828 14.3724 6.71194C13.5116 6.52755 12.5137 6.37904 11.4187 6.27753C11.4719 6.83232 11.5 7.40867 11.5 8C11.5 8.59133 11.4719 9.16768 11.4187 9.72246ZM10.1525 6.18401C10.2157 6.75982 10.25 7.36805 10.25 8C10.25 8.63195 10.2157 9.24018 10.1525 9.81598C9.46123 9.85455 8.7409 9.875 8 9.875C7.25909 9.875 6.53877 9.85455 5.84749 9.81598C5.7843 9.24018 5.75 8.63195 5.75 8C5.75 7.36805 5.7843 6.75982 5.84749 6.18401C6.53877 6.14545 7.25909 6.125 8 6.125C8.74091 6.125 9.46123 6.14545 10.1525 6.18401ZM11.2469 5.00748C12.2138 5.08891 13.1191 5.20593 13.9384 5.35306C13.2303 3.7667 11.9051 2.51622 10.268 1.90662C10.695 2.73788 11.0336 3.79953 11.2469 5.00748ZM8.48347 1.51771C8.4868 1.52089 8.49016 1.52411 8.49353 1.52737C8.7585 1.78353 9.05422 2.21456 9.32968 2.84417C9.58406 3.42562 9.80021 4.12856 9.95899 4.92219C9.32395 4.89118 8.66896 4.875 8 4.875C7.33104 4.875 6.67605 4.89118 6.04101 4.92219C6.19978 4.12856 6.41594 3.42562 6.67032 2.84417C6.94578 2.21456 7.2415 1.78353 7.50647 1.52737C7.50984 1.52411 7.51319 1.52089 7.51653 1.51771C7.67615 1.50597 7.83738 1.5 8 1.5C8.16262 1.5 8.32384 1.50597 8.48347 1.51771ZM5.73202 1.90663C4.0949 2.51622 2.76975 3.7667 2.06159 5.35306C2.88085 5.20593 3.78617 5.08891 4.75309 5.00748C4.96639 3.79953 5.30497 2.73788 5.73202 1.90663ZM4.58133 6.27753C3.48633 6.37904 2.48837 6.52755 1.62761 6.71194C1.54392 7.12828 1.5 7.55901 1.5 8C1.5 8.44099 1.54392 8.87172 1.62761 9.28806C2.48837 9.47245 3.48633 9.62096 4.58133 9.72246C4.52807 9.16768 4.5 8.59133 4.5 8C4.5 7.40867 4.52807 6.83232 4.58133 6.27753ZM4.75309 10.9925C3.78617 10.9111 2.88085 10.7941 2.06159 10.6469C2.76975 12.2333 4.0949 13.4838 5.73202 14.0934C5.30497 13.2621 4.96639 12.2005 4.75309 10.9925Z" fill="currentColor"></path></svg>
                <svg data-testid="geist-icon" height="16" stroke-linejoin="round" viewBox="0 0 16 16" width="16" style="color: currentcolor;"><path d="M1.39408 2.14408C3.21165 0.326509 6.13348 0.286219 8 2.02321C9.86652 0.286221 12.7884 0.326509 14.6059 2.14408C16.4647 4.00286 16.4647 7.01653 14.6059 8.87531L8 15.4812L1.39408 8.87531C-0.464691 7.01653 -0.464694 4.00286 1.39408 2.14408Z" fill="currentColor"></path></svg>
            </div>
            <svg data-testid="geist-icon" height="16" stroke-linejoin="round" viewBox="0 0 16 16" width="16" style="color: currentcolor;"><path fill-rule="evenodd" clip-rule="evenodd" d="M8 16C12.4183 16 16 12.4183 16 8C16 3.58172 12.4183 0 8 0C3.58172 0 0 3.58172 0 8C0 12.4183 3.58172 16 8 16ZM7.53033 4.71967L7 4.18934L5.93934 5.25L6.46967 5.78033L8.68934 8L6.46967 10.2197L5.93934 10.75L7 11.8107L7.53033 11.2803L10.1036 8.70711C10.4941 8.31658 10.4941 7.68342 10.1036 7.29289L7.53033 4.71967Z" fill="currentColor"></path></svg>
        </div>
    </div>
</div>

<script is:inline>
    document.addEventListener('DOMContentLoaded', function() {
        const container = document.getElementById('sliding-cards-container');
        const cards = [
            document.getElementById('card-1'),
            document.getElementById('card-2'),
            document.getElementById('card-3'),
            document.getElementById('card-4'),
            document.getElementById('card-5')
        ].filter(card => card !== null);

        if (!container || cards.length === 0) {
            console.log('Container o cards non trovati');
            return;
        }

        let currentCardIndex = 0;
        let isDragging = false;
        let startX = 0;
        let startY = 0;
        let currentX = 0;
        let currentY = 0;

        // Vincoli di movimento
        const MAX_DRAG_DISTANCE = 100; // Distanza massima di trascinamento
        const ACTIVATION_THRESHOLD = 50; // Soglia per attivare l'effetto

        // Funzione per limitare il movimento
        function constrainMovement(x, y) {
            const distance = Math.sqrt(x * x + y * y);
            if (distance > MAX_DRAG_DISTANCE) {
                const scale = MAX_DRAG_DISTANCE / distance;
                return { x: x * scale, y: y * scale };
            }
            return { x, y };
        }

        // Funzione per aggiornare gli event listeners delle card
        function updateCardEventListeners() {
            // Rimuovi tutti gli event listeners esistenti
            cards.forEach((card) => {
                card.removeEventListener('mousedown', handleMouseDown);
                card.removeEventListener('touchstart', handleMouseDown);
            });
            
            // Aggiungi event listeners solo alla card corrente
            if (currentCardIndex < cards.length) {
                const currentCard = cards[currentCardIndex];
                currentCard.addEventListener('mousedown', handleMouseDown);
                currentCard.addEventListener('touchstart', handleMouseDown, { passive: false });
            }
        }

        // Funzione per gestire il rilascio della card
        function handleCardRelease(card, direction) {
            const cardWidth = card.offsetWidth;
            
            if (direction === 'left' || direction === 'right') {
                // Anima la card con opacizzazione invece di traslazione
                card.style.transition = 'all 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94)';
                card.style.opacity = '0';
                card.style.transform = 'scale(0.8)';
                
                // Inizia immediatamente l'effetto di rotazione delle card successive
                startCardRotationAnimation();
                
                setTimeout(() => {
                    // Passa alla card successiva
                    currentCardIndex++;
                    if (currentCardIndex >= cards.length) {
                        // Reset se abbiamo finito le card
                        currentCardIndex = 0;
                        cards.forEach((c, i) => {
                            c.style.transform = '';
                            c.style.opacity = '1';
                            c.style.zIndex = 10 - i;
                        });
                    } else {
                        // Nasconde la card trascinata e mostra la successiva
                        cards[currentCardIndex - 1].style.transform = 'translateX(1000px)';
                        cards[currentCardIndex - 1].style.opacity = '0';
                        cards[currentCardIndex].style.zIndex = '10';
                    }
                    
                    // Aggiorna gli event listeners per la nuova card attiva
                    updateCardEventListeners();
                }, 600);
            } else {
                // Ritorna la card alla posizione originale
                card.style.transition = 'all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94)';
                card.style.transform = '';
                card.style.opacity = '1';
            }
        }

        // Funzione per avviare l'animazione di rotazione delle card
        function startCardRotationAnimation() {
            for (let i = currentCardIndex; i < cards.length; i++) {
                const card = cards[i];
                const currentRotation = getComputedStyle(card).transform;
                let currentAngle = 0;
                
                // Estrai l'angolo corrente dalla transform
                if (currentRotation !== 'none') {
                    const matrix = new DOMMatrix(currentRotation);
                    currentAngle = Math.atan2(matrix.b, matrix.a) * (180 / Math.PI);
                }
                
                // Aggiungi -3 gradi alla rotazione corrente
                const newAngle = currentAngle - 3;
                card.style.transform = `rotate(${newAngle}deg)`;
                card.style.transition = 'all 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94)';
            }
        }

        // Funzione per gestire il mouse down
        function handleMouseDown(e) {
            if (currentCardIndex >= cards.length) return;
            
            const card = cards[currentCardIndex];
            isDragging = true;
            startX = e.type === 'mousedown' ? e.clientX : e.touches[0].clientX;
            startY = e.type === 'mousedown' ? e.clientY : e.touches[0].clientY;
            
            card.style.zIndex = '20';
            card.style.transition = 'none';
            card.style.cursor = 'grabbing';
            
            // Aggiungi event listeners per il movimento
            if (e.type === 'mousedown') {
                document.addEventListener('mousemove', handleMouseMove);
                document.addEventListener('mouseup', handleMouseUp);
            }
        }

        // Funzione per gestire il movimento del mouse/touch
        function handleMouseMove(e) {
            if (!isDragging) return;
            
            const card = cards[currentCardIndex];
            const clientX = e.type === 'mousemove' ? e.clientX : e.touches[0].clientX;
            const clientY = e.type === 'mousemove' ? e.clientY : e.touches[0].clientY;
            
            currentX = clientX - startX;
            currentY = clientY - startY;
            
            // Applica i vincoli di movimento
            const constrained = constrainMovement(currentX, currentY);
            currentX = constrained.x;
            currentY = constrained.y;
            
            // Calcola la rotazione basata sul movimento orizzontale
            const rotation = (currentX / MAX_DRAG_DISTANCE) * 15;
            
            // Rimuovi l'effetto di opacizzazione durante il drag
            card.style.transform = `translateX(${currentX}px) translateY(${currentY}px) rotate(${rotation}deg)`;
        }

        // Funzione per gestire il rilascio del mouse/touch
        function handleMouseUp(e) {
            if (!isDragging) return;
            
            const card = cards[currentCardIndex];
            isDragging = false;
            
            card.style.cursor = 'grab';
            
            const distance = Math.sqrt(currentX * currentX + currentY * currentY);
            
            if (distance > ACTIVATION_THRESHOLD) {
                // Determina la direzione principale
                const direction = Math.abs(currentX) > Math.abs(currentY) 
                    ? (currentX > 0 ? 'right' : 'left')
                    : (currentY > 0 ? 'down' : 'up');
                
                if (direction === 'left' || direction === 'right') {
                    handleCardRelease(card, direction);
                } else {
                    // Per movimenti verticali, ritorna alla posizione originale
                    handleCardRelease(card, 'center');
                }
            } else {
                handleCardRelease(card, 'center');
            }
            
            // Rimuovi event listeners
            document.removeEventListener('mousemove', handleMouseMove);
            document.removeEventListener('mouseup', handleMouseUp);
        }

        // Gestione touch per dispositivi mobili
        container.addEventListener('touchmove', function(e) {
            if (isDragging) {
                e.preventDefault();
                handleMouseMove(e);
            }
        }, { passive: false });

        container.addEventListener('touchend', function(e) {
            if (isDragging) {
                handleMouseUp(e);
            }
        }, { passive: false });

        // Inizializza gli event listeners per la prima card
        updateCardEventListeners();

        console.log('Sliding cards inizializzate - animazioni fluide attivate per tutte le card');
    });
</script>